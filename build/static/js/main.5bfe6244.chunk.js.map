{"version":3,"sources":["util/crypto.js","util/Socket.js","components/AppIcon.jsx","App.js","reportWebVitals.js","index.js","util/config.js","util/api.js","util/cookie.js"],"names":["encrypt","data","CryptoJS","JSON","stringify","process","toString","e","console","log","decrypt","bytes","parse","Utf8","uri","require","hostname","indexOf","socket","io","Token","getCookie","emit","token","AppIcon","version","id","xmlns","x","y","width","height","viewBox","enable-background","style","marginRight","href","People","lazy","Chat","App","props","socketObject","useRef","history","useHistory","useState","messages","setMessages","messagesLoading","setMessagesLoading","user","setUser","chat","setChat","pageId","window","location","pathname","split","useEffect","current","on","newMessage","docs","oldArr","a","verifyme","username","error","message","match","params","push","fetch","post","text","document","getElementById","value","sender","reciever","sendText","then","resolve","catch","reject","className","fallback","CircularProgress","changeChat","updateChat","getMessages","Promise","res","rej","getAllMessages","response","Array","isArray","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","path","component","axiosConfig","axios","create","baseURL","interceptors","request","use","config","headers","login","password","querystring","signup","get","getPeople","FormData","append","user2","setCookie","cname","cvalue","exdays","d","Date","setTime","getTime","expires","toUTCString","cookie","name","ca","i","length","c","charAt","substring","removeCookie"],"mappings":"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","file":"static/js/main.5bfe6244.chunk.js","sourcesContent":["import * as CryptoJS from \"crypto-js\";\r\n\r\nexport const encrypt = (data) => {\r\n  try {\r\n    return CryptoJS.AES.encrypt(\r\n      JSON.stringify(data),\r\n      process.env.REACT_APP_MESSAGE_SECRET\r\n    ).toString();\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n};\r\n\r\nexport const decrypt = (data) => {\r\n  try {\r\n    const bytes = CryptoJS.AES.decrypt(\r\n      data,\r\n      process.env.REACT_APP_MESSAGE_SECRET\r\n    );\r\n    if (bytes.toString()) {\r\n      return JSON.parse(bytes.toString(CryptoJS.enc.Utf8));\r\n    }\r\n    return data;\r\n  } catch (e) {\r\n    return e;\r\n  }\r\n};\r\n","import { io } from \"socket.io-client\";\r\nimport { getCookie } from \"./cookie\";\r\nvar os = require(\"os\");\r\n\r\nvar uri = \"https://socketchatmern.herokuapp.com/\";\r\n\r\nif (os.hostname().indexOf(\"local\") > -1) {\r\n  uri = \"http://localhost:3000/\";\r\n}\r\n\r\nexport const socket = io(uri);\r\n\r\nlet Token = getCookie(\"auth\");\r\n\r\nif (Token) socket.emit(\"config\", { token: Token });\r\n","import React from \"react\";\r\n\r\nexport default function AppIcon() {\r\n  return (\r\n    <svg\r\n      version=\"1.1\"\r\n      id=\"Layer_1\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      x=\"0px\"\r\n      y=\"0px\"\r\n      width=\"2rem\"\r\n      height=\"2rem\"\r\n      viewBox=\"0 0 32 32\"\r\n      enable-background=\"new 0 0 32 32\"\r\n      style={{ marginRight: \"0.5rem\" }}\r\n    >\r\n      {\" \"}\r\n      <image\r\n        id=\"image0\"\r\n        width=\"32\"\r\n        height=\"32\"\r\n        x=\"0\"\r\n        y=\"0\"\r\n        href=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJN\r\nAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABqlBMVEUAAAD7dZj7dpj7dZr7\r\ndZn8dpn8c5j8dpf8dpj7dJj7cpb2cKb7dZf9dZX7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZn7\r\ndZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7\r\ndZj7dZj7dZn7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7\r\ndZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7\r\ndZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7dZj7\r\ndZj7dZj7dZj7dZj7dZj7dZj7dZj7dJf7c5f7dJj7gaH8ka38kKz7f6D7eJr9rMH+5ez/9/n/9vn+\r\n4ur8qb78qL79scX/+vv/////+vz8h6X/7PD7c5b8n7f//P38orr//f78orn8jqr/8vX8jar7d5n9\r\nwtL7gKD+z9v//v/7fZ54y+grAAAAaXRSTlMAAAAAAAAAAAAAAAAAAAMoa6zZ8v0pAzWV3vvflhiG\r\n6Okyvv6/PNUw1Ba6uwGAAS/k44sh1iBd+JvI7u3gwsGRUvRRGcx7I9ciavr5DKOkSvcfApK9Jz6g\r\nHdNjCySw8MRxZlwUEkTP3LFaEkiLAAAAAWJLR0R7T9K1/AAAAAd0SU1FB+UHDQ4INV7jR30AAAG9\r\nSURBVDjLdZNlWwJBFIXvtRNBUSww1lZULCxEVMTuwC6MAQzCxMDu/+y6zOIsLufDPjPnvLN3n9l7\r\nAahQkaFUZWap1VmZKmV2DoJUqNDk5uUTqvyCQo2CRWJQqysiEhXrtBgbPo4lpRyJEFdWgijm5RVE\r\nRhXlISIOK6uIrKoqBQKra0gU1VbzANbpuWgAp69HwIZGce90udyEuF0up+gYGhDim8L54dHxidN5\r\ncnx0GCaaEqC5ha49Xp//9Oz84uzU7/N6qNnSCm1Gur68CvC6Ep7Xl9Q0tkE7ff/NbYDR7Q2t0g4d\r\nocVd8J4F7oN3Ib8DDBR4eGSBxycKGKCTlnh+YYGXV1qiE7ro57y9s8D7G7W7oFu8hY/Pv/zzQ7yJ\r\nAjCRP+LrX056wEwiiS8mJ2botUQSbG7pg/4BwhLSnAxoAa1EQkhyYuV/96CNJb6/2dw2xAM4PMJY\r\nbjezGR3+7TkcG4/WURNjQk/i5JR8XjqNib/AzKx8PjePSULXLxTLxcZFOyYLY2PvkYnVS8srmCLM\r\n1eqa4EyV6UzrtP+59Y1Ne6o4vFtLFs7YrdreSXPs6tf29vf3DvS7jvQ0cXB/AHouXJZwxOM0AAAA\r\nJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTA3LTEzVDE0OjA4OjUzKzAzOjAw2jiGywAAACV0RVh0ZGF0\r\nZTptb2RpZnkAMjAyMS0wNy0xM1QxNDowODo1MyswMzowMKtlPncAAAAASUVORK5CYII=\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","import React, { useEffect, useState, useRef, lazy, Suspense } from \"react\";\nimport \"./App.css\";\nimport { socket } from \"./util/Socket\";\nimport { useHistory, withRouter, useParams } from \"react-router-dom\";\nimport { getAllMessages, verifyme } from \"./util/api\";\nimport { sendText } from \"./util/api\";\nimport { encrypt, decrypt } from \"./util/crypto\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport AppIcon from \"./components/AppIcon\";\n\nconst People = lazy(() => import(\"./components/People\"));\nconst Chat = lazy(() => import(\"./components/Chat\"));\n\nfunction App(props) {\n  var socketObject = useRef(null);\n  const history = useHistory();\n  const [messages, setMessages] = useState([]);\n  const [messagesLoading, setMessagesLoading] = useState(true);\n  const [user, setUser] = useState(\"\");\n  const [chat, setChat] = useState(\"\");\n\n  var pageId = window.location.pathname;\n  if (pageId) {\n    pageId = pageId.split(\"/\")[1];\n  }\n\n  useEffect(() => {\n    socketObject.current = socket;\n\n    socketObject.current.on(\"new_message\", (data) => {\n      let newMessage = data.docs;\n      //This puts message in message array regardless of route\n      //This needs to be fixed\n      setMessages((oldArr) => [...oldArr, newMessage]);\n    });\n  }, []);\n\n  const updateChat = (chat) => {\n    setChat(chat);\n    history.push(`/${chat}`);\n  };\n\n  useEffect(() => {\n    const fetch = async () => {\n      if (!user) {\n        try {\n          let user = await verifyme();\n          setUser(user.data.username);\n        } catch (e) {\n          console.error(e.message);\n        }\n      }\n      if (!props.match.params.id) {\n        setChat(\"Global\");\n        history.push(\"/Global\");\n      } else {\n        setChat(props.match.params.id);\n      }\n    };\n    fetch();\n  }, [props]);\n\n  const getMessages = () => {\n    return new Promise(async (res, rej) => {\n      try {\n        setMessagesLoading(true);\n        const response = await getAllMessages(props.match.params.id);\n        let messages = response.data.messages;\n        if (Array.isArray(messages)) {\n          setMessages(messages);\n          setMessagesLoading(false);\n        }\n        return res(messages);\n      } catch (e) {\n        return rej(e);\n      }\n    });\n  };\n\n  const post = async () => {\n    let text = document.getElementById(\"text-edit\").value;\n    let sender = user;\n    let reciever = chat;\n    if (text) {\n      text = encrypt(text);\n      document.getElementById(\"text-edit\").value = \"\";\n      await sendText(text, sender, reciever)\n        .then((resolve) => {\n          let message = resolve.data.docs;\n          socketObject.current.emit(\"send_message\", { message: message });\n        })\n        .catch((reject) => {});\n    }\n  };\n\n  const changeChat = (username) => {\n    history.push(\"/\" + username);\n  };\n\n  return (\n    <Suspense className=\"chatBox\" fallback={() => <CircularProgress />}>\n      <div className=\"heading\">\n        <AppIcon />\n        Socket based chat app, made with MERN Stack\n      </div>\n      <div className=\"container\">\n        <div className=\"people\">\n          <People\n            changeChat={changeChat}\n            user={user}\n            chat={chat}\n            updateChat={updateChat}\n          />\n        </div>\n        <div className=\"chatBox\">\n          <Chat\n            getMessages={getMessages}\n            messages={messages}\n            messagesLoading={messagesLoading}\n            post={post}\n            chat={chat}\n            user={user}\n          />\n        </div>\n      </div>\n    </Suspense>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Switch, Route } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/:id\" component={App} />\n        <Route path=\"/\" component={App} />\n      </Switch>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import axios from \"axios\";\r\nimport { getCookie } from \"./cookie\";\r\n\r\nvar os = require(\"os\");\r\n\r\nvar uri;\r\n\r\nif (os.hostname().indexOf(\"local\") > -1) {\r\n  uri = \"http://localhost:3000/\";\r\n}\r\n\r\nconst axiosConfig = axios.create({\r\n  baseURL: uri,\r\n});\r\n\r\naxiosConfig.interceptors.request.use(\r\n  function (config) {\r\n    let Token = getCookie(\"auth\");\r\n    if (Token) config.headers[\"Authorization\"] = \"Token \" + Token;\r\n\r\n    return config;\r\n  },\r\n  function (error) {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default axiosConfig;\r\n","import querystring from \"querystring\";\r\nimport axios from \"../util/config\";\r\n\r\nexport const login = (username, password) => {\r\n  return new Promise((resolve, reject) => {\r\n    axios\r\n      .post(\r\n        \"/api/auth/login\",\r\n        querystring.stringify({\r\n          username: username,\r\n          password: password,\r\n        }),\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n          },\r\n        }\r\n      )\r\n      .then((response) => {\r\n        return resolve(response);\r\n      })\r\n      .catch((error) => {\r\n        return reject(error);\r\n      });\r\n  });\r\n};\r\n\r\nexport const signup = (username, password) => {\r\n  return new Promise((resolve, reject) => {\r\n    axios\r\n      .post(\r\n        \"/api/auth/signup\",\r\n        querystring.stringify({\r\n          username: username,\r\n          password: password,\r\n        }),\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n          },\r\n        }\r\n      )\r\n      .then((response) => {\r\n        return resolve(response);\r\n      })\r\n      .catch((error) => {\r\n        return reject(error);\r\n      });\r\n  });\r\n};\r\n\r\nexport const verifyme = () => {\r\n  return new Promise((resolve, reject) => {\r\n    axios\r\n      .get(\"/api/auth/verifyme\")\r\n      .then((response) => {\r\n        return resolve(response);\r\n      })\r\n      .catch((error) => {\r\n        return reject(error);\r\n      });\r\n  });\r\n};\r\n\r\nexport const getPeople = () => {\r\n  return new Promise((resolve, reject) => {\r\n    axios\r\n      .get(\"/api/users/\")\r\n      .then((response) => {\r\n        return resolve(response);\r\n      })\r\n      .catch((error) => {\r\n        return reject(error);\r\n      });\r\n  });\r\n};\r\n\r\nexport const sendText = (message, sender, reciever) => {\r\n  return new Promise((resolve, reject) => {\r\n    let data = new FormData();\r\n    data.append(\"message\", message);\r\n    data.append(\"sender\", sender);\r\n    data.append(\"reciever\", reciever);\r\n    axios\r\n      .post(\"/api/message\", data)\r\n      .then((response) => {\r\n        return resolve(response);\r\n      })\r\n      .catch((error) => {\r\n        return reject(error);\r\n      });\r\n  });\r\n};\r\n\r\nexport const getAllMessages = (id) => {\r\n  return new Promise((resolve, reject) => {    \r\n    if (id === \"Global\") {\r\n      axios\r\n        .get(\"/api/message/all\")\r\n        .then((response) => {\r\n          return resolve(response);\r\n        })\r\n        .catch((error) => {\r\n          return reject(error);\r\n        });\r\n    } else {\r\n      axios\r\n        .post(\r\n          \"/api/message/get-messages\",\r\n          querystring.stringify({\r\n            user2: id,\r\n          }),\r\n          {\r\n            headers: {\r\n              \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n            },\r\n          }\r\n        )\r\n        .then((response) => {\r\n          return resolve(response);\r\n        })\r\n        .catch((error) => {\r\n          return reject(error);\r\n        });\r\n    }\r\n  });\r\n};\r\n","export function setCookie(cname, cvalue, exdays) {\r\n  var d = new Date();\r\n  d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);\r\n  var expires = \"expires=\" + d.toUTCString();\r\n  document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\r\n}\r\n\r\nexport function getCookie(cname) {\r\n  var name = cname + \"=\";\r\n  var ca = document.cookie.split(\";\");\r\n  for (var i = 0; i < ca.length; i++) {\r\n    var c = ca[i];\r\n    while (c.charAt(0) === \" \") {\r\n      c = c.substring(1);\r\n    }\r\n    if (c.indexOf(name) === 0) {\r\n      return c.substring(name.length, c.length);\r\n    }\r\n  }\r\n  return \"\";\r\n}\r\n\r\nexport function checkCookie(cname) {\r\n  var user = getCookie(cname);\r\n  if (user) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nexport function removeCookie(cname) {\r\n  document.cookie =\r\n    cname +\r\n    \"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; sameSite: 'none'; secure: true; path=/;\";\r\n}"],"sourceRoot":""}